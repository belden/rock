env:
  PATH: "${PROJECT_PATH}/bin:${PROJECT_PATH}/venv/bin:${PATH}"
  BUILD_PATH: "${PROJECT_PATH}/venv"
  TEST_PATH: "${PROJECT_PATH}/tests"

setup: |

  test -f ${BUILD_PATH}/bin/activate || virtualenv --distribute ${BUILD_PATH}

  if [[ -f ./requirements.txt ]]; then
    pip install -r ./requirements.txt
  fi

build: |

  test -f ./requirements.txt

  test -f ${BUILD_PATH}/bin/activate || virtualenv --distribute ${BUILD_PATH}

  pip install -r ./requirements.txt

test: |

  python -m unittest discover ${TEST_PATH}

clean: |

  rm -fr ${BUILD_PATH}
